<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">

  
  <title>Bootstrap Colorpicker | Color.js - Documentation</title>
  

  <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.css" rel="stylesheet">
  <link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cerulean/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-zF4BRsG/fLiTGfR9QL82DrilZxrwgY/+du4p/c7J72zZj+FLYq4zY00RylP9ZjiT" crossorigin="anonymous">
  <link href="dist/css/bootstrap-colorpicker.css" rel="stylesheet">

  <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
  <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
  <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">

  
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"/>
  

  <!-- This needs to be loaded before the examples scripts: -->
  <script src="//code.jquery.com/jquery-3.2.1.js"></script>
  <!--<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.js"></script>-->
  <script src="dist/js/bootstrap-colorpicker.js"></script>
</head>
<body>
<div class="container-fluid">
  <div class="row is-flex">
    <nav class="main-nav col-md-3 col-lg-2">
      <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="search-box"><input placeholder="Search" class="form-control" type="search" /></li><li class="nav-heading">Examples</li><li class="nav-item nav-item-kind-default"><a href="tutorial-Basics.html">Getting started</a></li><li class="nav-item nav-item-kind-default"><a href="tutorial-ColorApi.html">Color object API</a></li><li class="nav-item nav-item-kind-default"><a href="tutorial-CustomSize.html">Custom widget size</a></li><li class="nav-item nav-item-kind-default"><a href="tutorial-CustomTemplate.html">Custom widget template</a></li><li class="nav-item nav-item-kind-default"><a href="tutorial-Events.html">Working with events</a></li><li class="nav-item nav-item-kind-default"><a href="tutorial-Palette.html">Color palettes</a></li><li class="nav-item nav-item-kind-default"><a href="tutorial-legacy_docs.html">Legacy Documentation</a></li><li class="nav-heading">Classes</li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="module-Colorpicker-Colorpicker.html">Colorpicker</a></span></li><li class="nav-item nav-item-kind-function"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Colorpicker-Colorpicker.html#change">change</a></span></li><li class="nav-item nav-item-kind-function"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Colorpicker-Colorpicker.html#createColor">createColor</a></span></li><li class="nav-item nav-item-kind-function"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Colorpicker-Colorpicker.html#destroy">destroy</a></span></li><li class="nav-item nav-item-kind-function"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Colorpicker-Colorpicker.html#disable">disable</a></span></li><li class="nav-item nav-item-kind-function"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Colorpicker-Colorpicker.html#enable">enable</a></span></li><li class="nav-item nav-item-kind-function"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Colorpicker-Colorpicker.html#getColorString">getColorString</a></span></li><li class="nav-item nav-item-kind-function"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Colorpicker-Colorpicker.html#getCssColorString">getCssColorString</a></span></li><li class="nav-item nav-item-kind-function"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Colorpicker-Colorpicker.html#getPaletteColor">getPaletteColor</a></span></li><li class="nav-item nav-item-kind-function"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Colorpicker-Colorpicker.html#getPaletteColorName">getPaletteColorName</a></span></li><li class="nav-item nav-item-kind-function"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Colorpicker-Colorpicker.html#getValue">getValue</a></span></li><li class="nav-item nav-item-kind-function"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Colorpicker-Colorpicker.html#hasColor">hasColor</a></span></li><li class="nav-item nav-item-kind-function"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Colorpicker-Colorpicker.html#hasInput">hasInput</a></span></li><li class="nav-item nav-item-kind-function"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Colorpicker-Colorpicker.html#hide">hide</a></span></li><li class="nav-item nav-item-kind-function"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Colorpicker-Colorpicker.html#isDisabled">isDisabled</a></span></li><li class="nav-item nav-item-kind-function"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Colorpicker-Colorpicker.html#keyup">keyup</a></span></li><li class="nav-item nav-item-kind-function"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Colorpicker-Colorpicker.html#mousedown">mousedown</a></span></li><li class="nav-item nav-item-kind-function"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Colorpicker-Colorpicker.html#mousemove">mousemove</a></span></li><li class="nav-item nav-item-kind-function"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Colorpicker-Colorpicker.html#mouseup">mouseup</a></span></li><li class="nav-item nav-item-kind-function"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Colorpicker-Colorpicker.html#reposition">reposition</a></span></li><li class="nav-item nav-item-kind-function"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Colorpicker-Colorpicker.html#setValue">setValue</a></span></li><li class="nav-item nav-item-kind-function"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Colorpicker-Colorpicker.html#show">show</a></span></li><li class="nav-item nav-item-kind-function"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Colorpicker-Colorpicker.html#update">update</a></span></li><li class="nav-item nav-item-kind-function"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Colorpicker-Colorpicker.html#updateComponent">updateComponent</a></span></li><li class="nav-item nav-item-kind-function"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Colorpicker-Colorpicker.html#updateInput">updateInput</a></span></li><li class="nav-item nav-item-kind-function"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Colorpicker-Colorpicker.html#updatePicker">updatePicker</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="module-Color-Color.html">Color</a></span></li><li class="nav-item nav-item-kind-function"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Color-Color.html#_validOrFallback">_validOrFallback</a></span></li><li class="nav-item nav-item-kind-function"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Color-Color.html#getCopy">getCopy</a></span></li><li class="nav-item nav-item-kind-function"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Color-Color.html#getHueOnlyCopy">getHueOnlyCopy</a></span></li><li class="nav-item nav-item-kind-function"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Color-Color.html#getOpaqueCopy">getOpaqueCopy</a></span></li><li class="nav-item nav-item-kind-function"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Color-Color.html#hasTransparency">hasTransparency</a></span></li><li class="nav-item nav-item-kind-function"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Color-Color.html#importColor">importColor</a></span></li><li class="nav-item nav-item-kind-function"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Color-Color.html#importHsv">importHsv</a></span></li><li class="nav-item nav-item-kind-function"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Color-Color.html#importRgb">importRgb</a></span></li><li class="nav-item nav-item-kind-function"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Color-Color.html#isTransparent">isTransparent</a></span></li><li class="nav-item nav-item-kind-function"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Color-Color.html#setAlphaRatio">setAlphaRatio</a></span></li><li class="nav-item nav-item-kind-function"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Color-Color.html#setBrightness">setBrightness</a></span></li><li class="nav-item nav-item-kind-function"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Color-Color.html#setBrightnessRatio">setBrightnessRatio</a></span></li><li class="nav-item nav-item-kind-function"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Color-Color.html#setHue">setHue</a></span></li><li class="nav-item nav-item-kind-function"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Color-Color.html#setHueRatio">setHueRatio</a></span></li><li class="nav-item nav-item-kind-function"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Color-Color.html#setSaturation">setSaturation</a></span></li><li class="nav-item nav-item-kind-function"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Color-Color.html#setSaturationRatio">setSaturationRatio</a></span></li><li class="nav-item nav-item-kind-function"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-Color-Color.html#toString">toString</a></span></li><li class="nav-heading">Modules</li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-Color.html">Color</a></span></li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-Colorpicker.html">Colorpicker</a></span></li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-defaults.html">defaults</a></span></li><li class="nav-heading">Events</li><li class="nav-heading"><span class="nav-item-type type-event">E</span><span class="nav-item-name"><a href="module-Colorpicker.html#~event:change">change</a></span></li><li class="nav-heading"><span class="nav-item-type type-event">E</span><span class="nav-item-name"><a href="module-Colorpicker.html#~event:changeColor">changeColor</a></span></li><li class="nav-heading"><span class="nav-item-type type-event">E</span><span class="nav-item-name"><a href="module-Colorpicker.html#~event:create">create</a></span></li><li class="nav-heading"><span class="nav-item-type type-event">E</span><span class="nav-item-name"><a href="module-Colorpicker.html#~event:destroy">destroy</a></span></li><li class="nav-heading"><span class="nav-item-type type-event">E</span><span class="nav-item-name"><a href="module-Colorpicker.html#~event:disable">disable</a></span></li><li class="nav-heading"><span class="nav-item-type type-event">E</span><span class="nav-item-name"><a href="module-Colorpicker.html#~event:enable">enable</a></span></li><li class="nav-heading"><span class="nav-item-type type-event">E</span><span class="nav-item-name"><a href="module-Colorpicker.html#~event:hidePicker">hidePicker</a></span></li><li class="nav-heading"><span class="nav-item-type type-event">E</span><span class="nav-item-name"><a href="module-Colorpicker.html#~event:mousemove">mousemove</a></span></li><li class="nav-heading"><span class="nav-item-type type-event">E</span><span class="nav-item-name"><a href="module-Colorpicker.html#~event:showPicker">showPicker</a></span></li>
    </nav>

    <div class="main-content col-md-9 col-lg-10">
      <div id="main" class="main-content-wrapper">
        
        <h1 class="page-title">Color.js</h1>
        

        



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>'use strict';
/**
 * @module
 */

import tinycolor from 'tinycolor2';

let defaultFallbackColor = '#000000';
let defaultFallbackFormat = null;

function unwrapColor(color) {
  if (color instanceof tinycolor) {
    return {
      r: color._r,
      g: color._g,
      b: color._b,
      a: color._a
    };
  }
  return color;
}

/**
 * Color manipulation class.
 */
class Color extends tinycolor {
  /**
   * Identifier of the color instance.
   *
   * @type {int}
   * @readonly
   */
  get id() {
    return this._tc_id;
  }

  /**
   * Format of the parsed color.
   *
   * @type {String}
   * @readonly
   */
  get format() {
    return this._format;
  }

  /**
   * All options of the current instance.
   *
   * @type {{format: String, gradientType: String, fallbackColor: *}}
   * @readonly
   */
  get options() {
    return {
      format: this._format,
      gradientType: this._gradientType,
      fallbackColor: this._fallbackColor
    };
  }

  /**
   * @returns {{h, s, v, a}}
   */
  get hsva() {
    return this.toHsv();
  }

  /**
   * @returns {{h, s, v, a}}
   */
  get hsvaRatio() {
    let hsv = this.hsva;

    return {
      h: hsv.h / 360,
      s: hsv.s,
      v: hsv.v,
      a: hsv.a
    };
  }

  /**
   * foo bar
   * @param {Color|*} color
   * @param {{fallbackColor, format}} [options]
   * @constructor
   */
  constructor(color, options = {fallbackColor: defaultFallbackColor, format: null}) {
    super(unwrapColor(color), options);

    /**
     * @type {Color|*}
     */
    this._originalInput = color;

    /**
     * @type {Color|*}
     */
    this._fallbackColor = unwrapColor(options.fallbackColor);

    this._validOrFallback();
  }

  /**
   * Imports all variables of the given color to this instance, excepting `_tc_id`.
   * @param {Color} color
   */
  importColor(color) {
    if (!color instanceof tinycolor) {
      throw new Error('Color.importColor: The color argument is not an instance of tinycolor.');
    }
    this._originalInput = color._originalInput;
    this._r = color._r;
    this._g = color._g;
    this._b = color._b;
    this._a = color._a;
    this._roundA = color._roundA;
    this._format = color._format;
    this._gradientType = color._gradientType;
    this._ok = color._ok;
    // omit color._tc_id import
  }

  /**
   * Imports the _r, _g, _b, _a and _ok variables of the given color to this instance.
   * @param {Color} color
   */
  importRgb(color) {
    if (!color instanceof tinycolor) {
      throw new Error('Color.importColor: The color argument is not an instance of tinycolor.');
    }
    this._r = color._r;
    this._g = color._g;
    this._b = color._b;
    this._a = color._a;
    this._ok = color._ok;
  }

  /**
   * @param {{h,s,v,a}} hsv
   */
  importHsv(hsv) {
    this.importRgb(new Color(hsv, this.options));
  }

  /**
   * If the current color is not valid, applies the fallback and,
   * in case the fallback is neither valid, applies the default fallback.
   *
   * @returns {boolean}
   */
  _validOrFallback() {
    if (!this.isValid()) {
      let fallbackOptions = Object.assign({}, this.options);

      if (!fallbackOptions.format) {
        fallbackOptions.format = defaultFallbackFormat;
      }
      // given color is invalid
      this.importColor(tinycolor(this._fallbackColor, fallbackOptions));

      if (!this.isValid()) {
        // fallback color is invalid
        this.importColor(tinycolor(defaultFallbackColor, fallbackOptions));
      }
      return false;
    }
    return true;
  }

  /**
   * @returns {Color}
   */
  getCopy() {
    return new Color(this.hsva, this.options);
  }

  /**
   * @returns {Color}
   */
  getHueOnlyCopy() {
    return new Color(Object.assign({}, this.hsva, {s: 100, v: 100}), this.options);
  }

  /**
   * @returns {Color}
   */
  getOpaqueCopy() {
    return new Color(Object.assign({}, this.hsva, {a: 1}), this.options);
  }

  /**
   * @param {number} h Degrees from 0 to 360
   */
  setHue(h) {
    this.importHsv(Object.assign({}, this.hsva, {h: h}));
  }

  /**
   * @param {number} s Percent from 0 o 100
   */
  setSaturation(s) {
    this.importHsv(Object.assign({}, this.hsva, {s: s}));
  }

  /**
   * @param {number} v Percent from 0 o 100
   */
  setBrightness(v) {
    this.importHsv(Object.assign({}, this.hsva, {v: v}));
  }

  /**
   * @param {number} h Ratio from 0.0 to 1.0
   */
  setHueRatio(h) {
    if (h === 0) {
      return;
    }
    this.setHue((1 - h) * 360);
  }

  /**
   * @param {number} s Ratio from 0.0 to 1.0
   */
  setSaturationRatio(s) {
    this.setSaturation(s);
  }

  /**
   * @param {number} v Ratio from 0.0 to 1.0
   */
  setBrightnessRatio(v) {
    this.setBrightness(1 - v);
  }

  /**
   * @param {number} a Ratio from 0.0 to 1.0
   */
  setAlphaRatio(a) {
    this.setAlpha(1 - a);
  }

  /**
   * @returns {boolean}
   */
  isTransparent() {
    return this._a === 0;
  }

  /**
   * @returns {boolean}
   */
  hasTransparency() {
    return this._a !== 1;
  }

  /**
   * @param {string|null} [format] One of "rgb", "prgb", "hex"/"hex6", "hex3", "hex8", "hsl", "hsv"/"hsb", "name"
   * @returns {String}
   */
  toString(format = null) {
    format = (format ? format : this.format).replace(/a$/g, '').toLowerCase();

    let colorStr = super.toString(format);

    if (format.match(/hex/gi) &amp;&amp; !format.match(/hex8/gi)) {
      if (this.isTransparent() &amp;&amp; (this._r === 0) &amp;&amp; (this._g === 0) &amp;&amp; (this._b === 0)) {
        return 'transparent';
      }

      if (Color.names.hasOwnProperty(colorStr)) {
        return colorStr;
      }
    }

    return colorStr;
  }
}

export default Color;
</code></pre>
        </article>
    </section>




      </div>
    </div>
  </div>
  <div class="row">
    <footer class="col-md-12 main-footer">
      Generated by <a
      href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a>
      
      on Fri Nov 17 2017 02:35:17 GMT+0100 (CET) using a custom Minami theme. Search powered by Algolia.
    </footer>
  </div>
</div>


<script src="scripts/prettify/prettify.js"></script>
<script src="scripts/prettify/lang-css.js"></script>
<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>


<script type="text/javascript" src="//cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript"> docsearch({
  apiKey: '2fbe42dafb0dca80b2422f5b0b2cd82c',
  indexName: 'farbelous_bootstrap_colorpicker',
  inputSelector: '.search-box input',
  algoliaOptions: {
    hitsPerPage: 15
  },
  debug: false // Set debug to true if you want to inspect the dropdown
});
</script>

</body>
</html>
